<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dmetar">
<title>dmetar Vignette • dmetar</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.6/font.css" rel="stylesheet">
<link href="../deps/Fira_Code-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="dmetar Vignette">
<meta property="og:description" content="dmetar">
<meta property="og:image" content="http://dmetar.protectlab.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../costum.css">
<link rel="stylesheet" href="costum.css">
<script src="../logo.js" defer></script><script src="logo.js" defer></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dmetar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/dmetar.html">Get Started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Documentation</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>dmetar Vignette</h1>
                        <h4 data-toc-skip class="author">Mathias Harrer
&amp; David Daniel Ebert</h4>
            
            <h4 data-toc-skip class="date">2023-06-17</h4>
      
      
      <div class="d-none name"><code>dmetar_vignette.Rmd</code></div>
    </div>

    
    
<p><img src="fig/banner.jpg" align="left" alt="" width="680"></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
<div class="section level2">
<h2 id="about-dmetar">About <code>dmetar</code><a class="anchor" aria-label="anchor" href="#about-dmetar"></a>
</h2>
<p>The <code>dmetar</code> package serves as the companion <em>R</em>
package for the online guide <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/" class="external-link"><strong>Doing
Meta-Analysis in R - A Hands-on Guide</strong></a> written by Mathias
Harrer, Pim Cuijpers, Toshi Furukawa and David Ebert. This freely
available guide shows how to perform meta-analyses in <em>R</em> from
scratch with no prior <em>R</em> knowledge required. The guide, as well
as the <code>dmetar</code> package, have a focus on biomedical and
psychological research synthesis, but methods are applicable to other
research fields too. The guide primarily focuses on two widely used
packages for meta-analysis, <code>meta</code> (Schwarzer, 2007) and
<code>metafor</code> (Viechtbauer, 2010), and how they can be applied in
real-world use cases. The <code>dmetar</code> package thus aims to
provide additional tools and functionalities for researchers conducting
meta-analyses using these packages and the Doing Meta-Analysis in R
guide.</p>
<p>In this vignette, we provide a rough overview of the core
functionalities of the package. An in-depth introduction into the
package and how its functions can be applied to “real-world”
meta-analyses can be found in the online version of the guide. To get
detailed documentation of specific functions, you can consult the
<code>dmetar</code> <a href="www.dmetar.protectlab.org/reference/index.html">reference
page</a>.</p>
<p>Currently, the <code>dmetar</code> package is still under development
(version 0.0.9000). This means that, despite intense testing, we cannot
guarantee that functions will work as intended under all circumstances
and for all environments used. To report a bug, or ask a question,
please contact <strong>Mathias</strong> (<a href="mailto:mathias.harrer@fau.de" class="email">mathias.harrer@fau.de</a>) or <strong>David</strong> (<a href="mailto:d.d.ebert@vu.nl" class="email">d.d.ebert@vu.nl</a>)</p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Given that <code>dmetar</code> is currently under development, the
package is only available from <a href="https://github.com/MathiasHarrer/dmetar" class="external-link"><strong>GitHub</strong></a>
right now. To install the development version, you can use the
<code>install_github</code> function from the <a href="https://www.rstudio.com/products/rpackages/devtools/" class="external-link"><code>devtools</code></a>
package. Given that the package already passes the
<code>R CMD Check</code>, we aim to submit the package to <em>CRAN</em>
in the near future after the development process has been completed.</p>
<p><strong>Use the code below to install the package:</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"MathiasHarrer/dmetar"</span><span class="op">)</span></code></pre></div>
<p>The package can then be loaded as usual using the
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dmetar.protectlab.org" class="external-link">dmetar</a></span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="installation-errors">Installation Errors<a class="anchor" aria-label="anchor" href="#installation-errors"></a>
</h3>
<p>The <code>dmetar</code> package requires that <em>R</em> Version
3.6.3 or greater is installed and used in RStudio. You can check your
current <em>R</em> version by running:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Version.html" class="external-link">R.Version</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">version.string</span></code></pre></div>
<p>If you have an <em>R</em> version below 3.6.3 installed, installing
<code>dmetar</code> will likely cause an error because the dependency
<code>metafor</code> was not found. This means that you have to update
<em>R</em>. A tutorial on how to update <em>R</em> on your system can be
found <a href="https://www.linkedin.com/pulse/3-methods-update-r-rstudio-windows-mac-woratana-ngarmtrakulchol/" class="external-link">here</a>.</p>
<p><br></p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="functionality">Functionality<a class="anchor" aria-label="anchor" href="#functionality"></a>
</h2>
<p>The <code>dmetar</code> package provides tools for different stages
of the meta-analysis process. Functions cover topics such as power
analysis, effect size calculation, small-study effects, publication
bias, meta-regression, subgroup analysis, risk of bias assessment, and
network meta-analyses. Many <code>dmetar</code> functions heavily
interact with functions from the <code>meta</code> package to improve
the work flow when conducting meta-analysis. Therefore, the
<code>meta</code> package should be installed and loaded into from the
library first.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span></code></pre></div>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="datasets">Datasets<a class="anchor" aria-label="anchor" href="#datasets"></a>
</h2>
<p>To show some of the core functionality of the <code>dmetar</code>
package, we will use three datasets which come shipped with the package:
<code>ThirdWave</code>, <code>MVRegressionData</code> and
<code>NetDataNetmeta</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ThirdWave"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"MVRegressionData"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"NetDataNetmeta"</span><span class="op">)</span></code></pre></div>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="power-analysis">Power Analysis<a class="anchor" aria-label="anchor" href="#power-analysis"></a>
</h2>
<p>The <code>dmetar</code> package contains two functions for <em>a
priori</em> <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/power-analysis.html" class="external-link">power
analyses</a> of a meta-analysis: <a href="www.dmetar.protectlab.org/reference/power.analysis.html"><code>power.analysis</code></a>
and <a href="www.dmetar.protectlab.org&amp;/reference/power.analysis.subgroup.html"><code>power.analysis.subgroups</code></a>.
Let us assume that researchers expect to have approximately 18 studies
in their meta-analysis, with moderate between-group heterogeneity and
about 50 participants per arm and study. Will there be sufficient power
to detect an assumed minimally important difference of <span class="math inline">\(d=0.18\)</span>? The <code>power.analysis</code>
function can be used to answer this question.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/power.analysis.html">power.analysis</a></span><span class="op">(</span>d <span class="op">=</span> <span class="fl">.18</span>, k <span class="op">=</span> <span class="fl">18</span>, n1 <span class="op">=</span> <span class="fl">50</span>, n2 <span class="op">=</span> <span class="fl">50</span>, heterogeneity <span class="op">=</span> <span class="st">"moderate"</span><span class="op">)</span>
<span class="co">#&gt; Random-effects model used (moderate heterogeneity assumed).</span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-8-1.png" width="700" style="display: block; margin: auto;"></p>
<pre><code><span class="co">#&gt; Power: 83.86%</span></code></pre>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="effect-size-calculation">Effect Size Calculation<a class="anchor" aria-label="anchor" href="#effect-size-calculation"></a>
</h2>
<p>The <code>dmetar</code> package includes several functions to
calculate effect sizes needed for meta-analyses: <a href="www.dmetar.protectlab.org/reference/NNT.html"><code>NNT</code></a>,
<a href="www.dmetar.protectlab.org/reference/se.from.p.html"><code>se.from.p</code></a>
and <a href="www.dmetar.protectlab.org/reference/pool.groups.html"><code>pool.groups</code></a>.</p>
<p>Using the <code>NNT</code> function, we can calculate the number
needed to treat <span class="math inline">\(NNT\)</span> for the first
effect size in <code>ThirdWave</code> (<span class="math inline">\(g\)</span>=0.71). In this example, we use
Furukawa’s method (Furukawa &amp; Leucht, 2011), assuming a control
group event ratio (<code>CER</code>) of 0.2</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/NNT.html">NNT</a></span><span class="op">(</span><span class="fl">0.71</span>, CER <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>
<span class="co">#&gt; Furukawa &amp; Leucht method used. </span>
<span class="co">#&gt; [1] 4.038088</span></code></pre></div>
<p>We can also pool together two groups of a study into one group using
the <code>pool.groups</code> function once we have obtained the <span class="math inline">\(n\)</span>, mean and SD of each arm. This can be
helpful if we want to avoid a <a href="https://handbook-5-1.cochrane.org/chapter_9/9_3_1_unit_of_analysis_issues.htm" class="external-link">unit-of-analysis
error</a>. Here is an example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pool.groups.html">pool.groups</a></span><span class="op">(</span>n1 <span class="op">=</span> <span class="fl">50</span>, n2 <span class="op">=</span> <span class="fl">65</span>, m1 <span class="op">=</span> <span class="fl">12.3</span>, m2 <span class="op">=</span> <span class="fl">14.8</span>, sd1 <span class="op">=</span> <span class="fl">2.45</span>, sd2 <span class="op">=</span> <span class="fl">2.89</span><span class="op">)</span>
<span class="co">#&gt;    Mpooled SDpooled Npooled</span>
<span class="co">#&gt; 1 13.71304 2.969564     115</span></code></pre></div>
<p>When extracting effect size data, studies sometimes only report an
effect size of interest, and its <span class="math inline">\(p\)</span>-value. To pool effect sizes using
functions such as the <a href="https://www.rdocumentation.org/packages/meta/versions/4.9-6/topics/metagen" class="external-link"><code>metagen</code></a>
function, however, we need some dispersion measure (e.g., <span class="math inline">\(SE\)</span>, <span class="math inline">\(SD\)</span> or the variance). The
<code>se.from.p</code> function can be used to calculate the standard
error (<span class="math inline">\(SE\)</span>), which can the be used
directly for pooling using, for example, the <code>metagen</code>
function. Here is an example assuming an effect of <span class="math inline">\(d=0.38\)</span>, a <span class="math inline">\(p\)</span>-value of <span class="math inline">\(0.0456\)</span> and a total <span class="math inline">\(N\)</span> of <span class="math inline">\(83\)</span>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/se.from.p.html">se.from.p</a></span><span class="op">(</span>effect.size <span class="op">=</span> <span class="fl">0.38</span>, p <span class="op">=</span> <span class="fl">0.0456</span>, N <span class="op">=</span> <span class="fl">83</span><span class="op">)</span>
<span class="co">#&gt;   EffectSize StandardError StandardDeviation        LLCI      ULCI</span>
<span class="co">#&gt; 1       0.38     0.1904138          1.734752 0.006795843 0.7532042</span></code></pre></div>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="risk-of-bias">Risk of Bias<a class="anchor" aria-label="anchor" href="#risk-of-bias"></a>
</h2>
<p>In biomedical literature, it is common to assess the Risk of Bias of
included studies using the <a href="https://handbook-5-1.cochrane.org/chapter_8/8_assessing_risk_of_bias_in_included_studies.htm" class="external-link"><strong>Cochrane
Risk of Bias Tool</strong></a>. Such Risk of Bias assessments can be
directly performed in <a href="https://community.cochrane.org/help/tools-and-software/revman-5" class="external-link">RevMan</a>,
but this comes with certain drawbacks: RevMan graphics are usually of
lower quality, and journals often require high-resolution charts and
plots; using RevMan along with <em>R</em> to perform a meta-analysis
also means that two programs have to be used, which may consume
unnecessary extra time; lastly, using RevMan to generate Risk of Bias
summary plots also reduces the reproducibility of your meta-analysis if
you decide to make all your other <em>R</em> analyses fully reproducible
using tools such as <a href="https://rmarkdown.rstudio.com/" class="external-link"><strong>RMarkdown</strong></a>.</p>
<p>The <a href="www.dmetar.protectlab.org/reference/rob.summary.html"><code>rob.summary</code></a>
function allows you to generate RevMan-style Risk of Bias charts based
on <code>ggplot2</code> graphics directly in <em>R</em> from a
<em>R</em> data frame. Here is an example:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/rob.summary.html">rob.summary</a></span><span class="op">(</span><span class="va">data</span>, studies <span class="op">=</span> <span class="va">studies</span>, table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="fig/rob_chart.png" align="left" alt="" width="700"></p>
<p><img src="fig/rob_table.png" width="70%" style="display: block; margin: auto;"></p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="subgroup-analysis-meta-regression">Subgroup Analysis &amp; Meta-Regression<a class="anchor" aria-label="anchor" href="#subgroup-analysis-meta-regression"></a>
</h2>
<p>The <code>dmetar</code> package contains two functions related to the
topic of <strong>moderator variables</strong> of meta-analysis results:
<a href="www.dmetar.protectlab.org/reference/subgroup.analysis.mixed.effects.html"><code>subgroup.analysis.mixed.effects</code></a>
and <a href="www.dmetar.protectlab.org/reference/multimodel.inference.html"><code>multimodel.inference</code></a>.</p>
<p><br></p>
<p><strong>Mixed-Effects Subgroup Analysis</strong></p>
<p>The first function, <code>subgroup.analysis.mixed.effects</code>
performs a subgroup analysis using a mixed-effects model (fixed-effects
plural model; Borenstein &amp; Higgins, 2013), in which subgroup effect
sizes are pooled using a random-effects model, and subgroup differences
are assessed using a fixed-effect model. The function was built as an
additional tool for meta-analyses generated by <code>meta</code>
functions. In this example, we therefore perform a meta-analysis using
the <code>metagen</code> function first.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">metagen</a></span><span class="op">(</span><span class="va">TE</span>, <span class="va">seTE</span>, 
                data <span class="op">=</span> <span class="va">ThirdWave</span>, 
                studlab <span class="op">=</span> <span class="va">ThirdWave</span><span class="op">$</span><span class="va">Author</span>, 
                comb.fixed <span class="op">=</span> <span class="cn">FALSE</span>, 
                method.tau <span class="op">=</span> <span class="st">"PM"</span><span class="op">)</span></code></pre></div>
<p>We can then use this <code>meta</code> object called
<code>meta</code> as input for the function, and only have to specify
the subgroups coded in the original data set we want to consider. Then,
we can generate a forest plot by plugging the results of the function
into <code>forest</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sgame</span> <span class="op">=</span> <span class="fu"><a href="../reference/subgroup.analysis.mixed.effects.html">subgroup.analysis.mixed.effects</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">meta</span>, subgroups <span class="op">=</span> <span class="va">ThirdWave</span><span class="op">$</span><span class="va">TypeControlGroup</span><span class="op">)</span>
<span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sgame</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="va">sgame</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">#&gt; Subgroup Results:</span>
<span class="co">#&gt; --------------</span>
<span class="co">#&gt;                  k        TE      seTE  LLCI  ULCI            p         Q   I2</span>
<span class="co">#&gt; information only 3 0.4015895 0.1003796 0.205 0.598 6.315313e-05  1.144426 0.00</span>
<span class="co">#&gt; no intervention  8 0.5030588 0.1185107 0.271 0.735 2.187522e-05 16.704467 0.58</span>
<span class="co">#&gt; WLC              7 0.7822643 0.2096502 0.371 1.193 1.905075e-04 22.167163 0.73</span>
<span class="co">#&gt;                  I2.lower I2.upper</span>
<span class="co">#&gt; information only     0.00     0.90</span>
<span class="co">#&gt; no intervention      0.08     0.81</span>
<span class="co">#&gt; WLC                  0.42     0.87</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Test for subgroup differences (mixed/fixed-effects (plural) model):</span>
<span class="co">#&gt; --------------</span>
<span class="co">#&gt;                       Q df         p</span>
<span class="co">#&gt; Between groups 2.723884  2 0.2561628</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; - Total number of studies included in subgroup analysis:  18</span>
<span class="co">#&gt; - Tau estimator used for within-group pooling:  PM</span></code></pre>
<p><img src="fig/forest_subgroup.png" align="left" alt="" width="700"></p>
<p><br></p>
<p><strong>Multimodel Inference</strong></p>
<p>The <code>multimodel.inference</code> function, on the other hand,
can be used to perform <a href="www.dmetar.protectlab.org/reference/multimodel.inference.html#details"><strong>Multimodel
Inference</strong></a> for a meta-regression model.</p>
<p>Here is an example using the <code>MVRegressionData</code> dataset,
using <code>pubyear</code>, <code>quality</code>,
<code>reputation</code> and <code>continent</code> as predictors:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">multimodel.inference</span>(<span class="at">TE =</span> <span class="st">'yi'</span>, <span class="at">seTE =</span> <span class="st">'sei'</span>, <span class="at">data =</span> MVRegressionData,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">predictors =</span> <span class="fu">c</span>(<span class="st">'pubyear'</span>, <span class="st">'quality'</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">'reputation'</span>, <span class="st">'continent'</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="er">|</span>                                                                      <span class="er">|</span>   <span class="dv">0</span>%</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====</span>                                                                  <span class="er">|</span>   <span class="dv">6</span>%</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========</span>                                                             <span class="er">|</span>  <span class="dv">12</span>%</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============</span>                                                         <span class="er">|</span>  <span class="dv">19</span>%</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================</span>                                                    <span class="er">|</span>  <span class="dv">25</span>%</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="er">|======================</span>                                                <span class="er">|</span>  <span class="dv">31</span>%</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==========================</span>                                            <span class="er">|</span>  <span class="dv">38</span>%</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===============================</span>                                       <span class="er">|</span>  <span class="dv">44</span>%</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="er">|===================================</span>                                   <span class="er">|</span>  <span class="dv">50</span>%</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=======================================</span>                               <span class="er">|</span>  <span class="dv">56</span>%</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="er">|============================================</span>                          <span class="er">|</span>  <span class="dv">62</span>%</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="er">|================================================</span>                      <span class="er">|</span>  <span class="dv">69</span>%</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  <span class="er">|====================================================</span>                  <span class="er">|</span>  <span class="dv">75</span>%</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=========================================================</span>             <span class="er">|</span>  <span class="dv">81</span>%</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>  <span class="er">|=============================================================</span>         <span class="er">|</span>  <span class="dv">88</span>%</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>  <span class="sc">|</span>                                                                            </span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  <span class="er">|==================================================================</span>    <span class="er">|</span>  <span class="dv">94</span>%</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Multimodel Inference: Final Results</span></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - Number of fitted models: 16</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - Full formula: ~ pubyear + quality + reputation + continent</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - Coefficient significance test: knha</span></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - Interactions modeled: no</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  - Evaluation criterion: AICc </span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Best 5 Models</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Global model call: metafor::rma(yi = TE, sei = seTE, mods = form, data = glm.data, </span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     method = method, test = test)</span></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---</span></span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Model selection table </span></span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    (Intrc) cntnn  pubyr   qulty   rpttn df logLik AICc delta weight</span></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 12       +     + 0.3533         0.02160  5  2.981  6.0  0.00  0.536</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 16       +     + 0.4028 0.02210 0.01754  6  4.071  6.8  0.72  0.375</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 8        +     + 0.4948 0.03574          5  0.646 10.7  4.67  0.052</span></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 11       +       0.2957         0.02725  4 -1.750 12.8  6.75  0.018</span></span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 15       +       0.3547 0.02666 0.02296  5 -0.395 12.8  6.75  0.018</span></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Models ranked by AICc(x) </span></span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Multimodel Inference Coefficients</span></span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              Estimate  Std. Error   z value  Pr(&gt;|z|)</span></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; intrcpt    0.38614661 0.106983583 3.6094006 0.0003069</span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; continent1 0.24743836 0.083113174 2.9771256 0.0029096</span></span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; pubyear    0.37816796 0.083045572 4.5537402 0.0000053</span></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; reputation 0.01899347 0.007420427 2.5596198 0.0104787</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; quality    0.01060060 0.014321158 0.7402055 0.4591753</span></span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Predictor Importance</span></span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        model importance</span></span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    pubyear  0.9988339</span></span>
<span id="cb15-84"><a href="#cb15-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2  continent  0.9621839</span></span>
<span id="cb15-85"><a href="#cb15-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 reputation  0.9428750</span></span>
<span id="cb15-86"><a href="#cb15-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    quality  0.4432826</span></span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-18-1.png" width="480" style="display: block; margin: auto;"></p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="outlier-detection">Outlier Detection<a class="anchor" aria-label="anchor" href="#outlier-detection"></a>
</h2>
<p>To obtain a more robust estimate of the pooled effect size,
especially when the between-study heterogeneity of a meta-analysis is
high, it can be helpful to search for <strong>outliers</strong> and
recalculate the effects when excluding them.</p>
<p>The <code>find.outliers</code> function automatically searches for
outliers (defined as studies for which the 95%CI is outside the 95%CI of
the pooled effect) in your meta-analysis and recalculates the results
without these outliers. The function works for meta-analysis objects
created with functions of the <code>meta</code> package as well as the
<code>rma.uni</code> function in <code>metafor</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">metagen</a></span><span class="op">(</span><span class="va">TE</span>, <span class="va">seTE</span>, 
                data <span class="op">=</span> <span class="va">ThirdWave</span>, 
                studlab <span class="op">=</span> <span class="va">ThirdWave</span><span class="op">$</span><span class="va">Author</span>,
                method.tau <span class="op">=</span> <span class="st">"SJ"</span>,
                comb.fixed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu"><a href="../reference/find.outliers.html">find.outliers</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span>
<span class="co">#&gt; Identified outliers (random-effects model) </span>
<span class="co">#&gt; ------------------------------------------ </span>
<span class="co">#&gt; "DanitzOrsillo", "Shapiro et al." </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; Results with outliers removed </span>
<span class="co">#&gt; ----------------------------- </span>
<span class="co">#&gt; Number of studies combined: k = 16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                                       95%-CI    z  p-value</span>
<span class="co">#&gt; Random effects model 0.4708 [0.3297; 0.6119] 6.54 &lt; 0.0001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Quantifying heterogeneity:</span>
<span class="co">#&gt;  tau^2 = 0.0361 [0.0000; 0.1032]; tau = 0.1900 [0.0000; 0.3213]</span>
<span class="co">#&gt;  I^2 = 24.8% [0.0%; 58.7%]; H = 1.15 [1.00; 1.56]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Test of heterogeneity:</span>
<span class="co">#&gt;      Q d.f. p-value</span>
<span class="co">#&gt;  19.95   15  0.1739</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Details on meta-analytical method:</span>
<span class="co">#&gt; - Inverse variance method</span>
<span class="co">#&gt; - Sidik-Jonkman estimator for tau^2</span>
<span class="co">#&gt; - Q-Profile method for confidence interval of tau^2 and tau</span>
<span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="fu"><a href="../reference/find.outliers.html">find.outliers</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span>, col.study <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="influence-analysis">Influence Analysis<a class="anchor" aria-label="anchor" href="#influence-analysis"></a>
</h2>
<p>Influence Analysis can be helpful to detect studies which:</p>
<ul>
<li>contribute highly to the between-study heterogeneity found in a
meta-analysis (e.g., outliers) and could therefore be excluded in a
sensitivity analysis, or</li>
<li>have a large impact on the pooled effect size of a meta-analysis,
meaning that the overall effect size may change considerably when this
one study is removed.</li>
</ul>
<p>The <a href="www.dmetar.protectlab.org/reference/InfluenceAnalysis.html"><code>InfluenceAnalysis</code></a>
is a wrapper around several influence analysis function included in the
<code>meta</code> and <code>metafor</code> package. It provides four
types of influence diagnostics in one single plot. The function works
for meta-analysis objects created by <code>meta</code> functions, which
can then be directly used as input for the function:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">infan</span> <span class="op">=</span> <span class="fu"><a href="../reference/InfluenceAnalysis.html">InfluenceAnalysis</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span>
<span class="co">#&gt; [===========================================================================] DONE</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">infan</span><span class="op">)</span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-20-1.png" width="960"></p>
<p><br></p>
<p>Additionally, the <a href="https://dmetar.protectlab.org/reference/gosh.diagnostics.html" class="external-link"><code>gosh.diagnostics</code></a>
can be used to analyze influence patterns using objects generated by
<code>metafor</code>s <code>gosh</code> function. The
<code>gosh.diagnostics</code> function uses unsupervised learning
algorithms to determine effect size-heterogeneity patterns in the
meta-analysis data. We can use <code>dmetars</code> in-built
<code>m.gosh</code> data set, which has been generated using
<code>metafor</code>s <code>gosh</code> function as an example:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"m.gosh"</span><span class="op">)</span>
<span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gosh.diagnostics.html">gosh.diagnostics</a></span><span class="op">(</span><span class="va">m.gosh</span><span class="op">)</span>
<span class="co">#&gt;   </span>
<span class="co">#&gt;  Perform Clustering... </span>
<span class="co">#&gt;  |==========================================================================================| DONE</span>

<span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span>
<span class="co">#&gt; GOSH Diagnostics </span>
<span class="co">#&gt; ================================ </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  - Number of K-means clusters detected: 3</span>
<span class="co">#&gt;  - Number of DBSCAN clusters detected: 4</span>
<span class="co">#&gt;  - Number of GMM clusters detected: 4</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Identification of potential outliers </span>
<span class="co">#&gt;  --------------------------------- </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  - K-means: Study 3, Study 4</span>
<span class="co">#&gt;  - DBSCAN: Study 3, Study 4</span>
<span class="co">#&gt;  - Gaussian Mixture Model: Study 3, Study 4</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-21-1.png" width="700"><img src="dmetar_vignette_files/figure-html/unnamed-chunk-21-2.png" width="700"><img src="dmetar_vignette_files/figure-html/unnamed-chunk-21-3.png" width="700"><img src="dmetar_vignette_files/figure-html/unnamed-chunk-21-4.png" width="700"><img src="dmetar_vignette_files/figure-html/unnamed-chunk-21-5.png" width="700"></p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="publication-bias">Publication Bias<a class="anchor" aria-label="anchor" href="#publication-bias"></a>
</h2>
<p>The package contains two functions to assess the potential presence
of publication bias in a meta-analysis: <a href="www.dmetar.protectlab.org/reference/eggers.test.html"><code>eggers.test</code></a>
and <a href="www.dmetar.protectlab.org/reference/eggers.test.html"><code>pcurve</code></a>.
Both methods are optimized for conducting meta-analyses using the
<code>meta</code> package, and only have to be provided with a
<code>meta</code> meta-analysis results object.</p>
<p><br></p>
<p><strong>Here is an example output for</strong>
<code>eggers.test</code><strong>:</strong></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/eggers.test.html">eggers.test</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span>
<span class="co">#&gt; Eggers' test of the intercept </span>
<span class="co">#&gt; ============================= </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  intercept      95% CI     t            p</span>
<span class="co">#&gt;      4.111 2.39 - 5.83 4.677 0.0002524556</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Eggers' test indicates the presence of funnel plot asymmetry.</span></code></pre></div>
<p><br></p>
<p><strong>And here for</strong>
<code>pcurve</code><strong>:</strong></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pcurve.html">pcurve</a></span><span class="op">(</span><span class="va">meta</span><span class="op">)</span></code></pre></div>
<p><img src="dmetar_vignette_files/figure-html/unnamed-chunk-23-1.png" width="576" style="display: block; margin: auto;"></p>
<pre><code><span class="co">#&gt; P-curve analysis </span>
<span class="co">#&gt;  ----------------------- </span>
<span class="co">#&gt; - Total number of provided studies: k = 18 </span>
<span class="co">#&gt; - Total number of p&lt;0.05 studies included into the analysis: k = 11 (61.11%) </span>
<span class="co">#&gt; - Total number of studies with p&lt;0.025: k = 10 (55.56%) </span>
<span class="co">#&gt;    </span>
<span class="co">#&gt; Results </span>
<span class="co">#&gt;  ----------------------- </span>
<span class="co">#&gt;                     pBinomial  zFull pFull  zHalf pHalf</span>
<span class="co">#&gt; Right-skewness test     0.006 -5.943 0.000 -4.982     0</span>
<span class="co">#&gt; Flatness test           0.975  3.260 0.999  5.158     1</span>
<span class="co">#&gt; Note: p-values of 0 or 1 correspond to p&lt;0.001 and p&gt;0.999, respectively.   </span>
<span class="co">#&gt; Power Estimate: 84% (62.7%-94.6%)</span>
<span class="co">#&gt;    </span>
<span class="co">#&gt; Evidential value </span>
<span class="co">#&gt;  ----------------------- </span>
<span class="co">#&gt; - Evidential value present: yes </span>
<span class="co">#&gt; - Evidential value absent/inadequate: no</span></code></pre>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="network-meta-analysis">Network Meta-Analysis<a class="anchor" aria-label="anchor" href="#network-meta-analysis"></a>
</h2>
<p>The package contains two utility functions for network meta-analysis
using the <code>gemtc</code> (Van Valkenhoef &amp; Kuiper, 2016) and
<code>netmeta</code> (Rücker, Krahn, König, Efthimiou &amp; Schwarzer,
2019) packages.</p>
<p>The first one, <a href="www.dmetar.protectlab.org/reference/direct.evidence.plot.html"><code>direct.evidence.plot</code></a>
creates a plot for the direct evidence proportion of comparisons
included in a network meta-analysis model and displays diagnostics
proposed by König, Krahn and Binder (2013). It only requires a network
meta-analysis object created by the <code>netmeta</code> function as
input. We will use <code>dmetar</code>s in-built
<code>NetDataNetmeta</code> dataset for this example:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/netmeta" class="external-link">netmeta</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"NetDataNetmeta"</span><span class="op">)</span>

<span class="va">nmeta</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></span><span class="op">(</span><span class="va">TE</span>, <span class="va">seTE</span>, <span class="va">treat1</span>, <span class="va">treat2</span>, 
                  data<span class="op">=</span><span class="va">NetDataNetmeta</span>, 
                  studlab <span class="op">=</span> <span class="va">NetDataNetmeta</span><span class="op">$</span><span class="va">studlab</span><span class="op">)</span>

<span class="fu"><a href="../reference/direct.evidence.plot.html">direct.evidence.plot</a></span><span class="op">(</span><span class="va">nmeta</span><span class="op">)</span></code></pre></div>
<p><img src="fig/directevidence.png" width="500" style="display: block; margin: auto;"></p>
<p><br></p>
<p>The second, <a href="www.dmetar.protectlab.org/reference/sucra.html"><code>sucra</code></a>,
calculates the <span class="math inline">\(SUCRA\)</span> for each
treatment when provided with a <code>mtc.rank.probability</code> network
meta-analysis results object, or a matrix containing rank probabilities.
In this example, we will use <code>dmetar</code>s in-built
<code>NetDataGemtc</code> data set.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/gertvv/gemtc" class="external-link">gemtc</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"NetDataGemtc"</span><span class="op">)</span>

<span class="co"># Create Network Meta-Analysis Model</span>
<span class="va">network</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gemtc/man/mtc.network.html" class="external-link">mtc.network</a></span><span class="op">(</span>data.re <span class="op">=</span> <span class="va">NetDataGemtc</span><span class="op">)</span>

<span class="va">model</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gemtc/man/mtc.model.html" class="external-link">mtc.model</a></span><span class="op">(</span><span class="va">network</span>, linearModel <span class="op">=</span> <span class="st">"fixed"</span>,
                   n.chain <span class="op">=</span> <span class="fl">4</span>,
                   likelihood <span class="op">=</span> <span class="st">"normal"</span>,
                   link <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span>

<span class="va">mcmc</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gemtc/man/mtc.run.html" class="external-link">mtc.run</a></span><span class="op">(</span><span class="va">model</span>, n.adapt <span class="op">=</span> <span class="fl">5000</span>, 
               n.iter <span class="op">=</span> <span class="fl">100000</span>, thin <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>

<span class="va">rp</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gemtc/man/rank.probability.html" class="external-link">rank.probability</a></span><span class="op">(</span><span class="va">mcmc</span><span class="op">)</span>

<span class="co"># Create sucra</span>
<span class="fu"><a href="../reference/sucra.html">sucra</a></span><span class="op">(</span><span class="va">rp</span>, lower.is.better <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="fig/sucra.png" width="40%" style="display: block; margin: auto;"></p>
<p><br></p>
<p><br></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p><strong>Furukawa, T. A., &amp; Leucht, S. (2011)</strong>. How to
obtain NNT from Cohen’s d: comparison of two methods. <em>PloS one,
6</em>(4), e19070.</p>
<p><strong>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D.
(2019)</strong>. <em>Doing Meta-Analysis in R: A Hands-on Guide</em>.
DOI: 10.5281/zenodo.2551803.</p>
<p><strong>König J., Krahn U., Binder H. (2013)</strong>: Visualizing
the flow of evidence in network meta-analysis and characterizing mixed
treatment comparisons. <em>Statistics in Medicine, 32</em>, 5414–29</p>
<p><strong>Rücker, G., Krahn, U., König, J., Efthimiou, O. &amp;
Schwarzer, G. (2019)</strong>. netmeta: Network Meta-Analysis using
Frequentist Methods. <em>R package version 1.0-1</em>. <a href="https://CRAN.R-project.org/package=netmeta" class="external-link uri">https://CRAN.R-project.org/package=netmeta</a></p>
<p><strong>Schwarzer, G. (2007)</strong>, meta: An R package for
meta-analysis, <em>R News, 7</em>(3), 40-45.</p>
<p><strong>Van Valkenhoef, G. &amp; Kuiper, J. (2016)</strong>. gemtc:
Network Meta-Analysis Using Bayesian Methods. <em>R package version
0.8-2</em>. <a href="https://CRAN.R-project.org/package=gemtc" class="external-link uri">https://CRAN.R-project.org/package=gemtc</a></p>
<p><strong>Viechtbauer, W. (2010)</strong>. Conducting meta-analyses in
R with the metafor package. <em>Journal of Statistical Software,
36</em>(3), 1-48. URL: <a href="http://www.jstatsoft.org/v36/i03/" class="external-link uri">http://www.jstatsoft.org/v36/i03/</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David
Daniel Ebert.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
