<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function performs multimodel inference to evaluate the importance of predictors
with a meta-analytical meta-regression model."><title>Perform multimodel inference with a meta-regression model — multimodel.inference • dmetar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.7/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Perform multimodel inference with a meta-regression model — multimodel.inference"><meta property="og:description" content="This function performs multimodel inference to evaluate the importance of predictors
with a meta-analytical meta-regression model."><meta property="og:image" content="http://dmetar.protectlab.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../costum.css"><link rel="stylesheet" href="costum.css"><script src="../logo.js" defer></script><script src="logo.js" defer></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dmetar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dmetar.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Documentation</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Perform multimodel inference with a meta-regression model</h1>
      
      <div class="d-none name"><code>multimodel.inference.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs multimodel inference to evaluate the importance of predictors
with a meta-analytical meta-regression model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">multimodel.inference</span><span class="op">(</span><span class="va">TE</span>, <span class="va">seTE</span>, <span class="va">data</span>, <span class="va">predictors</span>, method<span class="op">=</span><span class="st">'REML'</span>, test<span class="op">=</span><span class="st">'knha'</span>,</span>
<span>    eval.criterion<span class="op">=</span><span class="st">'AICc'</span>, interaction<span class="op">=</span><span class="cn">FALSE</span>, seed<span class="op">=</span><span class="fl">123</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>TE</dt>
<dd><p>The precalculated effect size for each study. Must be supplied as the name of the effect size
column in the dataset (in quotation marks; e.g. <code>TE = "effectsize"</code>).</p></dd>


<dt>seTE</dt>
<dd><p>The precalculated standard error of the effect size for each study. Must be supplied as the name of the standard error
column in the dataset (in quotation marks; e.g. <code>seTE = "se"</code>).</p></dd>


<dt>data</dt>
<dd><p>A <code>data.frame</code> containing columns for the effect size, standard error and
meta-regression predictors of each study/effect.</p></dd>


<dt>predictors</dt>
<dd><p>A character vector specifying the predictors to be used
for multimodel inference. Names of the predictors must be identical to the names of the columns
in the <code>data.frame</code> supplied to <code>data</code>.</p></dd>


<dt>method</dt>
<dd><p>Meta-analysis model to use for pooling effect sizes. Use <code>'FE'</code> for the
fixed-effect model. Different random-effect models are available: "<code>DL</code>", "<code>HE</code>", "<code>SJ</code>",
"<code>ML</code>", "<code>REML</code>", "<code>EB</code>", "<code>HS</code>" or "<code>GENQ</code>.
If <code>'FE'</code> is used, the <code>test</code> argument is automatically set to <code>'z'</code>, as the Knapp-Hartung
method is not meant to be used with fixed-effect models. Default is <code>'REML'</code>, and it is strongly advised to remain with
this option to use a standard (mixed-effects) meta-regression model.</p></dd>


<dt>test</dt>
<dd><p>Method to use to compute test statistics and confidence intervals. Default is <code>'knha'</code>
which uses the Knapp-Hartung (Knapp &amp; Hartung, 2003) adjustment method. "Conventional" Wald-type tests and
CIs are calculated by setting this argument to <code>'z'</code>. When <code>method='FE'</code>, this argument is
set to <code>'z'</code> automatically as the Knapp-Hartung method was not intended to be used with fixed-effect models.</p></dd>


<dt>eval.criterion</dt>
<dd><p>Evaluation criterion to sort the multiple models by. Can be either <code>'AICc'</code>
(default; corrected Akaike's Information Criterion), <code>'AIC'</code> (Akaike's Information Criterion) or
<code>'BIC'</code> (Bayesian Information Criterion).</p></dd>


<dt>interaction</dt>
<dd><p>If set to <code>FALSE</code> (default), no interactions between predictors are considered. Setting this parameter to
<code>TRUE</code> means that all interactions are modeled (interactions will only be modeled if the number of provided predictors is 4 or less).</p></dd>


<dt>seed</dt>
<dd><p>Set a seed for the function. Default seed is <code>123</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns four tables and a plot:</p><ul><li><p><strong>Final Results (Summary Table)</strong>: Displays the number of fitted models, model formula,
method to calculate test statistics and confidence intervals, interactions, and evaluation criterion used.</p></li>
<li><p><strong>Best 5 Models</strong>: Displays the top five models in terms of the evaluation criterion used.
Predictors are displayed as columns of the table, and models as rows. A number (weight) or <code>+</code>
sign (for categorical predictors) indicates that a predictor/interaction term was used for the
model, while empty cells indicate that the predictor was omitted in this model. Other metrics such as the
<code>weight</code>, evaluation metric <code>delta</code> compared to the best model, log-Likelihood (<code>logLik</code>) and degrees of freedom
are also displayed.</p></li>
<li><p><strong>Multimodel Inference Coefficients</strong>: Displays the estimated coefficients and statistical significance
of each regression term in the model.</p></li>
<li><p><strong>Predictor Importance</strong>: Displays the estimated importance of each model term. The table is sorted from
highest to lowest. A common rule of thumb is to consider a predictor as important when its importance value is above 0.8.</p></li>
<li><p><strong>Predictor Importance Plot</strong>: A bar plot for the predictor importance data along with a reference line for the
0.8 value often used as a crude threshold to characterize a predictor as important.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Multimodel methods differ from stepwise regression methods as they do not try to successively build
the “best” single (meta-regression) model explaining most of the variance. Instead, in this procedure,
all possible combinations of a predefined selection of predictors are modeled, and evaluated using
a criterion such as Akaike’s Information Criterion, which rewards simpler models.
This enables a full examination of all possible models, and how they perform.
A common finding using this procedure is that there are many different kinds of predictor
combinations within a model which lead to a good fit. In multimodel inference, the estimated
coefficients of predictors can then be synthesized across all possible models to infer how
important certain predictors are overall.</p>
<p>Multimodel Inference can be a useful way to obtain a comprehensive look on which predictors are
more or less important for predicting differences in effect sizes. Despite avoiding some of the
problems of stepwise regression methods, it should be noted that this method should still be rather
seen as exploratory, and may be used when there is no prior knowledge on how predictors are
related to effect sizes in the research field under study.</p>
<p>The <code>multimodel.inference</code> function calls the <code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma.uni</a></code> function internally,
results of which are then fed forward to an adapted version of the <code><a href="https://rdrr.io/pkg/MuMIn/man/dredge.html" class="external-link">dredge</a></code> function
internally for multimodel inference.
Parts of the computations in this function are adapted from a vignette by Wolfgang Viechtbauer, which can be found
<a href="http://www.metafor-project.org/doku.php/tips:model_selection_with_glmulti_and_mumin" class="external-link">here</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D. (2019).
<em>Doing Meta-Analysis in R: A Hands-on Guide</em>. DOI: 10.5281/zenodo.2551803. <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/smallstudyeffects.html" class="external-link">Chapter 9.1</a></p>
<p>Knapp, G., &amp; Hartung, J. (2003). Improved tests for a random effects meta-regression with a single covariate.
<em>Statistics in Medicine, 22</em>, 2693–2710.</p>
<p>Viechtbauer, W. (2019). <em>Model Selection using the glmulti and MuMIn Packages</em>. <a href="http://www.metafor-project.org/doku.php/tips:model_selection_with_glmulti_and_mumin" class="external-link">Link</a>.
Last accessed 01-Aug-2019.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/MuMIn/man/dredge.html" class="external-link">dredge</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mathias Harrer &amp; David Daniel Ebert</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Perform multimodel inference with default settings</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'MVRegressionData'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.metafor-project.org" class="external-link">metafor</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mmi</span> <span class="op">=</span> <span class="fu">multimodel.inference</span><span class="op">(</span>TE <span class="op">=</span> <span class="st">'yi'</span>, seTE <span class="op">=</span> <span class="st">'sei'</span>, data <span class="op">=</span> <span class="va">MVRegressionData</span>,</span></span>
<span class="r-in"><span>                           predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pubyear'</span>, <span class="st">'quality'</span>,</span></span>
<span class="r-in"><span>                                          <span class="st">'reputation'</span>, <span class="st">'continent'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Print summary</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mmi</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot predictor importance</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mmi</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Model Interaction terms, set method to 'DL',</span></span></span>
<span class="r-in"><span><span class="co"># change evaluation criterion to bic</span></span></span>
<span class="r-in"><span><span class="fu">multimodel.inference</span><span class="op">(</span>TE <span class="op">=</span> <span class="st">'yi'</span>, seTE <span class="op">=</span> <span class="st">'sei'</span>, data <span class="op">=</span> <span class="va">MVRegressionData</span>,</span></span>
<span class="r-in"><span>                     predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'pubyear'</span>, <span class="st">'quality'</span>,</span></span>
<span class="r-in"><span>                                    <span class="st">'reputation'</span>, <span class="st">'continent'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     method<span class="op">=</span><span class="st">'DL'</span>, eval.criterion <span class="op">=</span> <span class="st">'BIC'</span>, interaction <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Use only categorical predictors</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'ThirdWave'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">multimodel.inference</span><span class="op">(</span>TE <span class="op">=</span> <span class="st">'TE'</span>, seTE <span class="op">=</span> <span class="st">'seTE'</span>, data <span class="op">=</span> <span class="va">ThirdWave</span>,</span></span>
<span class="r-in"><span>                     predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">ThirdWave</span><span class="op">)</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, interaction <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David Daniel Ebert.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

