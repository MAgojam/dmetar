<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function performs a mixed-effects (random-effects model within subgroups,
fixed-effect model between subgroups) subgroup analysis using meta objects."><title>Subgroup analysis using a mixed-effects model — subgroup.analysis.mixed.effects • dmetar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Fira%20Sans-0.4.1/font.css" rel="stylesheet"><link href="../deps/_Fira%20Code-0.4.1/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Subgroup analysis using a mixed-effects model — subgroup.analysis.mixed.effects"><meta property="og:description" content="This function performs a mixed-effects (random-effects model within subgroups,
fixed-effect model between subgroups) subgroup analysis using meta objects."><meta property="og:image" content="http://dmetar.protectlab.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../costum.css"><link rel="stylesheet" href="costum.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dmetar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dmetar.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Documentation</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://protectlab.org/en">Protect Lab</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/MathiasHarrer">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Subgroup analysis using a mixed-effects model</h1>
      
      <div class="d-none name"><code>subgroup.analysis.mixed.effects.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs a mixed-effects (random-effects model within subgroups,
fixed-effect model between subgroups) subgroup analysis using <code>meta</code> objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">subgroup.analysis.mixed.effects</span><span class="op">(</span><span class="va">x</span>, <span class="va">subgroups</span>, exclude <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An object of class <code>meta</code>, generated by the <code>metabin</code>, <code>metagen</code>,
<code>metacont</code>, <code>metacor</code>, <code>metainc</code>, or <code>metaprop</code> function.</p></dd>
<dt>subgroups</dt>
<dd><p>A character vector of the same length as the number of studies within the
meta-analysis, with a unique code for the subgroup each study belongs to. Must have the
same order as the studies in the <code>meta</code> object.</p></dd>
<dt>exclude</dt>
<dd><p>Single string or concatenated array of strings. The name(s) of the subgroup
levels to be excluded from the subgroup analysis. If <code>"none"</code> (default), all subgroup
levels are used for the analysis.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>list</code> with five objects:</p><ul><li><p><code>within.subgroup.results</code>: The pooled effect size for each subgroup and corresponding measures of heterogeneity (
<code>Q</code> and <code>I2</code>). If the summary measure <code>sm</code> is defined as one of
<code>"RR"</code>, <code>"RD"</code>, <code>"OR"</code>, <code>"ASD"</code>, <code>"HR"</code> or <code>"IRR"</code> in the
<code>meta</code> object provided in <code>x</code>, the backtransformed (exponentiated)
pooled effect for each subgroup effect size along with the 95% confidence interval is also provided.</p></li>
<li><p><code>subgroup.analysis.results</code>: The results for the <code>Q</code>-test for subgroup differences, its degrees of freedom <code>df</code> and
<em>p</em>-value.</p></li>
<li><p><code>m.random</code>: An object of class <code>meta</code> containing the results of the random-effects model applied
for pooling results in each subgroup in the first step.</p></li>
<li><p><code>method.tau</code>: The \(\tau^2\) estimator used for within-subgroup pooling
(inherited from the <code>meta</code> object provided in <code>x</code>).</p></li>
<li><p><code>k</code>: The total number of included studies.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function conducts a test for differences in effect sizes between subgroups of a meta-analysis.
The function implements a mixed-effect model, in which the overall effect size for each subgroup is
calculated using a random-effect model, and the test for subgroup differences is conducted using a
fixed-effect model. The implementation follows the fixed-effects (plural) model described in Borenstein
and Higgins (2013).</p>
<p>This model is appropriate for subgroup tests when the subgroup levels under study
are assumed to be exhaustive for the characteristic at hand, and are not randomly chosen instances
of a "population" of subgroup levels. For example, the fixed-effects (plural) model used in the function
is valid when differences between studies published before and after a certain year are considered as a
(binary) subgroup level. When subgroup levels can be assumed to be random samples from a distribution of
subgroup levels, a random-effects model is more appropriate, and may be calculated using
the <code><a href="https://rdrr.io/pkg/meta/man/update.meta.html" class="external-link">update.meta</a></code> function.</p>
<p>The function uses the study effect sizes <code>TE</code> and their standard error <code>seTE</code> of the provided
<code>meta</code> object to perform the subgroup analyses. Specifications of the summary measure <code>sm</code> are
inherited and used to backtransform log-transformed effect sizes to their original metrics if necessary.</p>
<p>Results can be inspected by plugging the function output into the <code>summary</code> function. Forest plots
can be generated using <code>forest</code>. Additional arguments of the <code><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest.meta</a></code> function
can be passed to the <code>forest</code> function for additional styling.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D. (2019).
<em>Doing Meta-Analysis in R: A Hands-on Guide</em>. DOI: 10.5281/zenodo.2551803. <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/subgroup.html" class="external-link">Chapter 7</a>.</p>
<p>Borenstein, M. &amp; Higgins, J. P. T. (2013). Meta-Analysis and Subgroups. <em>Prevention Science, 14</em> (2): 134–43.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="multimodel.inference.html">multimodel.inference</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mathias Harrer &amp; David Daniel Ebert</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Example 1: Hedges' g as effect size, precalculated effect sizes</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dmetar.protectlab.org" class="external-link">dmetar</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ThirdWave"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ThirdWave</span> <span class="op">=</span> <span class="va">ThirdWave</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">9</span>,<span class="fl">18</span><span class="op">)</span>,<span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metagen.html" class="external-link">metagen</a></span><span class="op">(</span>TE <span class="op">=</span> <span class="va">TE</span>,</span>
<span class="r-in">              seTE <span class="op">=</span> <span class="va">seTE</span>,</span>
<span class="r-in">              studlab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">ThirdWave</span><span class="op">$</span><span class="va">Author</span><span class="op">)</span>,</span>
<span class="r-in">              data<span class="op">=</span><span class="va">ThirdWave</span>,</span>
<span class="r-in">              comb.fixed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">              method.tau <span class="op">=</span> <span class="st">"PM"</span>,</span>
<span class="r-in">              sm <span class="op">=</span> <span class="st">"SMD"</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">sgame1</span> <span class="op">=</span> <span class="fu">subgroup.analysis.mixed.effects</span><span class="op">(</span>x <span class="op">=</span> <span class="va">m1</span>, subgroups <span class="op">=</span> <span class="va">ThirdWave</span><span class="op">$</span><span class="va">TypeControlGroup</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'random' instead of 'comb.random' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-in"><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sgame1</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subgroup Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  k       SMD        SE  LLCI  ULCI             p         Q   I2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WLC              3 0.9154106 0.4253639 0.082 1.749 0.03139224728 13.058904 0.85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> information only 3 0.4015895 0.1003796 0.205 0.598 0.00006315313  1.144426 0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  I2.lower I2.upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WLC                  0.55     0.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> information only     0.00     0.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for subgroup differences (mixed/fixed-effects (plural) model):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       Q df        p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Between groups 1.382187  1 0.239729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Total number of studies included in subgroup analysis:  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Tau estimator used for within-group pooling:  PM</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 2: Hedges' g as effect size, raw effect data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">amlodipine</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create an arbitrary subgroup for illustration purposes</span></span>
<span class="r-in"><span class="va">amlodipine</span><span class="op">$</span><span class="va">subgroup</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span><span class="op">)</span>,<span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metacont.html" class="external-link">metacont</a></span><span class="op">(</span><span class="va">n.amlo</span>, <span class="va">mean.amlo</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">var.amlo</span><span class="op">)</span>,</span>
<span class="r-in">               <span class="va">n.plac</span>, <span class="va">mean.plac</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">var.plac</span><span class="op">)</span>,</span>
<span class="r-in">               data<span class="op">=</span><span class="va">amlodipine</span>, studlab<span class="op">=</span><span class="va">amlodipine</span><span class="op">$</span><span class="va">study</span>,</span>
<span class="r-in">               sm <span class="op">=</span> <span class="st">"SMD"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">sgame2</span> <span class="op">=</span> <span class="fu">subgroup.analysis.mixed.effects</span><span class="op">(</span>x <span class="op">=</span> <span class="va">m2</span>, subgroups <span class="op">=</span> <span class="va">amlodipine</span><span class="op">$</span><span class="va">subgroup</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'random' instead of 'comb.random' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-in"><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sgame2</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subgroup Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   k       SMD        SE   LLCI  ULCI            p        Q   I2 I2.lower</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 4 0.4970586 0.1302176  0.242 0.752 0.0001350091 3.749695 0.20        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B 4 0.3163117 0.1642004 -0.006 0.638 0.0540574677 5.330220 0.44        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   I2.upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A     0.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B     0.81</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for subgroup differences (mixed/fixed-effects (plural) model):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Q df         p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Between groups 0.7438662  1 0.3884252</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Total number of studies included in subgroup analysis:  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Tau estimator used for within-group pooling:  REML</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 3: Risk ratio as effect size, binary outcome data, exlcude one level</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Olkin95</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create an arbitrary subgroup for illustration purposes</span></span>
<span class="r-in"><span class="va">Olkin95</span><span class="op">$</span><span class="va">subgroup</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span><span class="op">)</span>, <span class="fl">30</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"C"</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metabin.html" class="external-link">metabin</a></span><span class="op">(</span><span class="va">event.e</span>, <span class="va">n.e</span>, <span class="va">event.c</span>, <span class="va">n.c</span>,</span>
<span class="r-in">              data <span class="op">=</span> <span class="va">Olkin95</span>, studlab <span class="op">=</span> <span class="va">Olkin95</span><span class="op">$</span><span class="va">author</span>,</span>
<span class="r-in">              method <span class="op">=</span> <span class="st">"Inverse"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use shorthand</span></span>
<span class="r-in"><span class="va">sgame3</span> <span class="op">=</span> <span class="fu">sgame</span><span class="op">(</span>x <span class="op">=</span> <span class="va">m3</span>, subgroups <span class="op">=</span> <span class="va">Olkin95</span><span class="op">$</span><span class="va">subgroup</span>,</span>
<span class="r-in">               exclude <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'random' instead of 'comb.random' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-in"><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sgame3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subgroup Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    k         TE       seTE        RR  LLCI  ULCI            p        Q   I2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 30 -0.2236279 0.06797886 0.7996126 0.700 0.914 0.0010030546 37.15381 0.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C 10 -0.3378363 0.09118373 0.7133121 0.597 0.853 0.0002113859 10.65963 0.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   I2.lower I2.upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A        0     0.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C        0     0.57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for subgroup differences (mixed/fixed-effects (plural) model):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                       Q df         p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Between groups 1.008345  1 0.3152996</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Total number of studies included in subgroup analysis:  40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Tau estimator used for within-group pooling:  REML</span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 4: IRR as effect size, incidence data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/meta/" class="external-link">meta</a></span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">smoking</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create an arbitrary subgroup for illustration purposes</span></span>
<span class="r-in"><span class="va">smoking</span><span class="op">$</span><span class="va">subgroup</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B"</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">m4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/meta/man/metainc.html" class="external-link">metainc</a></span><span class="op">(</span><span class="va">d.smokers</span>, <span class="va">py.smokers</span>,</span>
<span class="r-in">              <span class="va">d.nonsmokers</span>, <span class="va">py.nonsmokers</span>,</span>
<span class="r-in">              data<span class="op">=</span><span class="va">smoking</span>, studlab<span class="op">=</span><span class="va">study</span>, sm<span class="op">=</span><span class="st">"IRR"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">sgame4</span> <span class="op">=</span> <span class="fu">subgroup.analysis.mixed.effects</span><span class="op">(</span>x <span class="op">=</span> <span class="va">m4</span>, subgroups <span class="op">=</span> <span class="va">smoking</span><span class="op">$</span><span class="va">subgroup</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'random' instead of 'comb.random' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'fixed' instead of 'comb.fixed' (deprecated).</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Use argument 'subgroup' instead of 'byvar' (deprecated).</span>
<span class="r-in"><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sgame4</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Subgroup Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   k        TE       seTE      IRR  LLCI  ULCI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 4 0.5102054 0.05187149 1.665633 1.505 1.844</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B 3 0.4921778 0.01363593 1.635875 1.593 1.680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                                                                                                                                                      p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 0.00000000000000000000007881949876651695761105211927243381005002700948803938336169187025420646008910807722713798284530639648437500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B 0.00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000279883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Q   I2 I2.lower I2.upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 42.2826988 0.93     0.85     0.97</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B  0.6826077 0.00     0.00     0.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Test for subgroup differences (mixed/fixed-effects (plural) model):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Q df         p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Between groups 0.1129792  1 0.7367775</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Total number of studies included in subgroup analysis:  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Tau estimator used for within-group pooling:  REML</span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># Generate Forest Plot</span></span>
<span class="r-in"><span class="co"># Additional arguments of the meta::forest.meta can be supplied</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="va">sgame1</span>, col.diamond <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="va">sgame2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="va">sgame3</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/meta/man/forest.meta.html" class="external-link">forest</a></span><span class="op">(</span><span class="va">sgame4</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David
Daniel Ebert.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

