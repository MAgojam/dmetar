<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function performs an a priori power estimation of a meta-analysis
for different levels of assumed between-study heterogeneity."><title>A priori power calculator — power.analysis • dmetar</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.6/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.6/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="A priori power calculator — power.analysis"><meta property="og:description" content="This function performs an a priori power estimation of a meta-analysis
for different levels of assumed between-study heterogeneity."><meta property="og:image" content="http://dmetar.protectlab.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../costum.css"><link rel="stylesheet" href="costum.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dmetar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dmetar.html">Get Started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Documentation</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://protectlab.org/en">Protect Lab</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/MathiasHarrer">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A priori power calculator</h1>
      
      <div class="d-none name"><code>power.analysis.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function performs an <em>a priori</em> power estimation of a meta-analysis
for different levels of assumed between-study heterogeneity.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">power.analysis</span><span class="op">(</span><span class="va">d</span>, <span class="va">OR</span>, <span class="va">k</span>, <span class="va">n1</span>, <span class="va">n2</span>, p <span class="op">=</span> <span class="fl">0.05</span>, heterogeneity <span class="op">=</span> <span class="st">'fixed'</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>d</dt>
<dd><p>The hypothesized, or plausible overall effect size of a treatment/intervention under study compared
to control, expressed as the standardized mean difference (<em>SMD</em>). Effect sizes must be positive
numerics (i.e., expressed as positive effect sizes).</p></dd>
<dt>OR</dt>
<dd><p>The hypothesized, or plausible overall effect size of a treatment/intervention under study compared
to control, expressed as the Odds Ratio (<em>OR</em>). If both <code>d</code> and <code>OR</code> are specified, results
will only be computed for the value of <code>d</code>.</p></dd>
<dt>k</dt>
<dd><p>The expected number of studies to be included in the meta-analysis.</p></dd>
<dt>n1</dt>
<dd><p>The expected, or plausible mean sample size of the treatment group in the studies to be included in the meta-analysis.</p></dd>
<dt>n2</dt>
<dd><p>The expected, or plausible mean sample size of the control group in the studies to be included in the meta-analysis.</p></dd>
<dt>p</dt>
<dd><p>The alpha level to be used for the power computation. Default is \(\alpha = 0.05\).</p></dd>
<dt>heterogeneity</dt>
<dd><p>Which level of between-study heterogeneity to assume for the meta-analysis. Can be either
<code>"fixed"</code> for no heterogeneity/a fixed-effect model, <code>"low"</code> for low heterogeneity, <code>"moderate"</code>
for moderate-sized heterogeneity or <code>"high"</code> for high levels of heterogeneity. Default is <code>"fixed"</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns a <code>list</code> with two elements:</p><ul><li><p><code>Plot</code>: A plot showing the effect size (x), power (y), estimated power (red point) and
estimated power for changing effect sizes (blue line). A dashed line at 80% power is also provided as a visual threshold for sufficient power.</p></li>
<li><p><code>Power</code>: The <strong>estimated power</strong> of the meta-analysis, expressed as a value between 0 and 1 (i.e., 0%-100%).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>While researchers conducting primary studies can plan the size of their sample
based on the effect size they want to find, the situation is a different in
meta-analysis, where one can only work with the published material.
However, researchers have some control over the number of studies they want to include in their
meta-analysis (e.g., through more leniently or strictly defined inclusion criteria).
Therefore, one can change the power to some extent by including more or less studies into
the meta-analysis. Conventionally, a power of \(1-\beta = 0.8\) is deemed sufficient to detect an existing effect.
There are four things one has to make assumptions about when assessing the power of a meta-analysis a priori.</p>
<ul><li><p>The number of included or includable studies</p></li>
<li><p>The overall size of the studies we want to include (are the studies in the field rather small or large?)</p></li>
<li><p>The effect size. This is particularly important, as assumptions have to be made
about how big an effect size has to be to still be clinically meaningful. One study calculated
that for interventions for depression, even effects as small as <em>SMD</em>=0.24 may still
be meaningful for patients (Cuijpers et al. 2014). If the aim is to study negative effects of an
intervention (e.g., death or symptom deterioration), even very small effect sizes are extremely
important and should be detected.</p></li>
<li><p>The heterogeneity of our studies’ effect sizes, as this also affects the precision of the pooled estimate,
and thus its potential to find significant effects.</p></li>
</ul><p>The <code>power.analysis</code> function implements the formula by Borenstein et al. (2011) to calculate
the power estimate. Odds Ratios are converted to <code>d</code> internally before the power is estimated, and
are then reconverted.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D. (2019).
<em>Doing Meta-Analysis in R: A Hands-on Guide</em>. DOI: 10.5281/zenodo.2551803. <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/power-analysis.html" class="external-link">Chapter 13</a></p>
<p>Cuijpers, P., Turner, E.H., Koole, S. L., Van Dijke, A., &amp; Smit, F. (2014).
What Is the Threshold for a Clinically Relevant Effect? The Case of Major Depressive Disorders.
<em>Depression and Anxiety, 31</em>(5): 374–78.</p>
<p>Borenstein, M., Hedges, L.V., Higgins, J.P.T. and Rothstein, H.R. (2011). Introduction to Meta-Analysis. John Wiley &amp; Sons.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="power.analysis.subgroup.html">power.analysis.subgroup</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Mathias Harrer &amp; David Daniel Ebert</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="co"># Example 1: Using SMD and fixed-effect model (no heterogeneity)</span></span>
<span class="r-in"><span class="fu">power.analysis</span><span class="op">(</span>d<span class="op">=</span><span class="fl">0.124</span>, k<span class="op">=</span><span class="fl">10</span>, n1<span class="op">=</span><span class="fl">50</span>, n2<span class="op">=</span><span class="fl">50</span>, heterogeneity <span class="op">=</span> <span class="st">'fixed'</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fixed-effect model used. </span>
<span class="r-plt img"><img src="power.analysis-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Power: 49.96%</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 2: Using OR and assuming moderate heterogeneity</span></span>
<span class="r-in"><span class="va">pa</span> <span class="op">=</span> <span class="fu">power.analysis</span><span class="op">(</span>OR<span class="op">=</span><span class="fl">0.77</span>, k<span class="op">=</span><span class="fl">12</span>, n1<span class="op">=</span><span class="fl">50</span>, n2<span class="op">=</span><span class="fl">50</span>, heterogeneity <span class="op">=</span> <span class="st">'high'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://wviechtb.github.io/metafor/reference/print.rma.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pa</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Power Analysis based on log-transformed OR. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Random-effects model used (high heterogeneity assumed). </span>
<span class="r-plt img"><img src="power.analysis-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Power: 42.18%</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Only show plot</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pa</span><span class="op">)</span></span>
<span class="r-plt img"><img src="power.analysis-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David
Daniel Ebert.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

