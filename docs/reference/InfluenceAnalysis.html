<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Influence Diagnostics — InfluenceAnalysis • dmetar</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Influence Diagnostics — InfluenceAnalysis" />
<meta property="og:description" content="Conducts an influence analysis of a meta-analysis generated by meta functions,
and allows to produce influence diagnostic plots." />
<meta property="og:image" content="http://dmetar.protectlab.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dmetar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/dmetar.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
<li>
  <a href="https://protectlab.org/en">Protect Lab</a>
</li>
<li>
  <a href="https://twitter.com/MathiasHarrer">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Influence Diagnostics</h1>
    
    <div class="hidden name"><code>InfluenceAnalysis.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Conducts an influence analysis of a meta-analysis generated by <code><a href='https://rdrr.io/pkg/meta/man/meta-package.html'>meta</a></code> functions,
and allows to produce influence diagnostic plots.</p>
    </div>

    <pre class="usage"><span class='fu'>InfluenceAnalysis</span>(<span class='no'>x</span>, <span class='kw'>random</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>subplot.heights</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>30</span>,<span class='fl'>18</span>),
    <span class='kw'>subplot.widths</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>30</span>,<span class='fl'>30</span>), <span class='kw'>forest.lims</span> <span class='kw'>=</span> <span class='st'>'default'</span>,
    <span class='kw'>return.separate.plots</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>text.scale</span> <span class='kw'>=</span> <span class='fl'>1</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An object of class <code>meta</code>, generated by the <code>metabin</code>, <code>metagen</code>,
<code>metacont</code>, <code>metacor</code>, <code>metainc</code>, <code>metarate</code> or <code>metaprop</code> function.</p></td>
    </tr>
    <tr>
      <th>random</th>
      <td><p>Logical. Should the random-effects model be used to generate the influence diagnostics?
Uses the <code>method.tau</code> specified in the <code>meta</code> object if one
of "<code>DL</code>", "<code>HE</code>", "<code>SJ</code>", "<code>ML</code>", "<code>REML</code>", "<code>EB</code>", "<code>PM</code>", "<code>HS</code>" or "<code>GENQ</code>" (to ensure compatibility with
the <code><a href='https://rdrr.io/pkg/metafor/man/metafor-package.html'>metafor</a></code> package). Otherwise, the DerSimonian-Laird
(<code>"DL"</code>; DerSimonian &amp; Laird, 1986) estimator is used. <code>FALSE</code> by default.</p></td>
    </tr>
    <tr>
      <th>subplot.heights</th>
      <td><p>Concatenated array of two numerics. Specifies the heights of the
first (first number) and second (second number) row of the overall plot generated when plotting the results.
Default is <code><a href='https://rdrr.io/r/base/c.html'>c(30,18)</a></code>.</p></td>
    </tr>
    <tr>
      <th>subplot.widths</th>
      <td><p>Concatenated array of two numerics. Specifies the widths of the
first (first number) and second (second number) column of the overall results plot generated when plotting the results.
Default is <code><a href='https://rdrr.io/r/base/c.html'>c(30,30)</a></code>.</p></td>
    </tr>
    <tr>
      <th>forest.lims</th>
      <td><p>Concatenated array of two numerics. Specifies the x-axis limits of the forest plots
generated when plotting the results. Use <code>"default"</code> if standard settings should be used (this is the default).</p></td>
    </tr>
    <tr>
      <th>return.separate.plots</th>
      <td><p>Logical. When plotted, should the influence plots be shown as separate plots in lieu
of returning them in one overall plot?</p></td>
    </tr>
    <tr>
      <th>text.scale</th>
      <td><p>Positive numeric. Scaling factor for the text geoms used when plotting the results. Values &lt;1 shrink the
text, while values &gt;1 increase the text size. Default is <code>1</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>list</code> object of class <code>influence.analysis</code> containing the
following objects is returned (if results are saved to a variable):</p><ul>
<li><p><code>BaujatPlot</code>: The Baujat plot</p></li>
<li><p><code>InfluenceCharacteristics</code>: The Viechtbauer-Cheung influence characteristics plot</p></li>
<li><p><code>ForestEffectSize</code>: The forest plot sorted by effect size</p></li>
<li><p><code>ForestI2</code>: The forest plot sorted by between-study heterogeneity</p></li>
<li><p><code>Data</code>: A <code>data.frame</code> containing the data used for plotting.</p></li>
</ul><p>Otherwise, the function prints out (1) the results of the Leave-One-Out Analysis (sorted by \(I^2\)),
(2) the Viechtbauer-Cheung Influence Diagnostics and  (3) Baujat Plot data (sorted by heterogeneity contribution),
in this order. Plots can be produced manually by plugging a saved object of class <code>InfluenceAnalysis</code> generated by
the function into the <code>plot</code> function. It is also possible to only produce one specific plot by
specifying the name of the plot as a <code>character</code> in the second argument of the <code>plot</code> call (see Examples).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function conducts an influence analysis using the "Leave-One-Out" paradigm internally
and produces data for four influence diagnostics. Diagnostic plots can be produced by saving the output of the
function to an object and plugging it into the <code>plot</code> function.
These diagnostics may be used to determine which study or effect size
may have an excessive influence on the overall results of a meta-analysis and/or contribute substantially to
the between-study heterogeneity in an analysis. This may be used for outlier detection and to test
the robustness of the overall results found in an analysis. Results for four diagnostics are calculated:</p><ul>
<li><p><strong>Baujat Plot</strong>: Baujat et al. (2002) proposed a plot to evaluate heterogeneity patterns in
a meta-analysis. The x-axis of the Baujat plot shows the overall heterogeneity contribution of each effect size
while the y-axis shows the influence of each effect size on the pooled result. The <code><a href='https://rdrr.io/pkg/meta/man/baujat.meta.html'>baujat</a></code>
function is called internally to produce the results. Effect sizes or studies with high values
on both the x and y-axis may be considered to be influential cases; effect sizes or studies
with high heterogeneity contribution (x-axis) and low influence on the overall results can be outliers
which might be deleted to reduce the amount of between-study heterogeneity.</p></li>
<li><p><strong>Influence Characteristics</strong>: Several influence analysis diagnostics
proposed by Viechtbauer &amp; Cheung (2010). Results are calculated by an internal call
to <code><a href='https://rdrr.io/pkg/metafor/man/influence.rma.uni.html'>influence.rma.uni</a></code>. In the console output, potentially influential studies are marked
with an asterisk (<code>*</code>). When plotted, effect sizes/studies determined to be influential cases
using the "rules of thumb" described in Viechtbauer &amp; Cheung (2010) are shown in red. For further
details, see the documentation of the <code><a href='https://rdrr.io/pkg/metafor/man/influence.rma.uni.html'>influence.rma.uni</a></code> function.</p></li>
<li><p><strong>Forest Plot for the Leave-One-Out Analysis, sorted by Effect Size</strong>: This
displays the effect size and \(I^2\)-heterogeneity when omitting one of the \(k\) studies each time.
The plot is sorted by effect size to determine which studies or effect sizes particularly
affect the overall effect size. Results are generated by an internal call to <code><a href='https://rdrr.io/pkg/meta/man/metainf.html'>metainf</a></code>.</p></li>
<li><p><strong>Forest Plot for the Leave-One-Out Analysis, sorted by \(I^2\)</strong>: see above; results are sorted
by \(I^2\) to determine the study for which exclusion results in the greatest reduction of heterogeneity.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D. (2019).
<em>Doing Meta-Analysis in R: A Hands-on Guide</em>. DOI: 10.5281/zenodo.2551803. <a href='https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/influenceanalyses.html'>Chapter 6.3</a></p>
<p>DerSimonian R. &amp; Laird N. (1986), Meta-analysis in clinical trials. <em>Controlled Clinical Trials, 7</em>, 177–188.</p>
<p>Viechtbauer, W., &amp; Cheung, M. W.-L. (2010). Outlier and influence diagnostics for meta-analysis. <em>Research Synthesis Methods, 1</em>, 112–125.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/metafor/man/influence.rma.uni.html'>influence.rma.uni</a></code>, <code><a href='https://rdrr.io/pkg/meta/man/metainf.html'>metainf</a></code>, <code><a href='https://rdrr.io/pkg/meta/man/baujat.meta.html'>baujat</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Load 'ThirdWave' data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>ThirdWave</span>)

<span class='co'># Create 'meta' meta-analysis object</span>
<span class='fu'><a href='https://rdrr.io/r/base/message.html'>suppressPackageStartupMessages</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>meta</span>))
<span class='no'>meta</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/meta/man/metagen.html'>metagen</a></span>(<span class='no'>TE</span>, <span class='no'>seTE</span>, <span class='kw'>studlab</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span>(<span class='no'>ThirdWave</span>$<span class='no'>Author</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='no'>ThirdWave</span>)

<span class='co'># Run influence analysis; specify to return separate plots when plotted</span>
<span class='no'>inf.an</span> <span class='kw'>=</span> <span class='fu'>InfluenceAnalysis</span>(<span class='no'>meta</span>, <span class='kw'>return.separate.plots</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># Show results in console</span>
<span class='no'>inf.an</span>

<span class='co'># Generate all plots</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>inf.an</span>)

<span class='co'># For baujat plot</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>inf.an</span>, <span class='st'>"baujat"</span>)

<span class='co'># For influence diagnostics plot</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>inf.an</span>, <span class='st'>"influence"</span>)

<span class='co'># For forest plot sorted by effect size</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>inf.an</span>, <span class='st'>"ES"</span>)

<span class='co'># For forest plot sorted by I-squared</span>
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>inf.an</span>, <span class='st'>"I2"</span>)}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David Daniel Ebert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '358a758fa720ccb381dab79f60a2b3a4',
    indexName: 'dmetar',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


